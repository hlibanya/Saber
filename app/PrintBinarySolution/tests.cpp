#include <iostream>

#include "PrintBinary.hpp"
#include "CppUTest/TestHarness.h"

TEST_GROUP(PrintBinaryTests)
{
    int32_t testNumbers[17] = 
    {
        0b01111111111111111111111111111111,
        0b00000000000000000000000000000000,
        0b01000000000000000000000000000000,
        0b00000000000000000000000000000001,
        0b01111111111111110000000000000000,
        0b00000000000000001111111111111111,
        0b00101010101010101010101010101010,
        0b01010101010101010101010101010101,
        0b01111111111111111111111111111110,
        0b00111111111111111111111111111100,
        0b01000000000000000000000000000001,
        0b01100000000000000000000000000011,
        0b00110111101011000000100111010101,
        0b01111001111111110101110111101010,
        0b00110011011001001010101110101010,
        0b00001001000001000101010000010000,
        -32
    };
    const char* testStrings[17] = 
    {
        "01111111111111111111111111111111",
        "00000000000000000000000000000000",
        "01000000000000000000000000000000",
        "00000000000000000000000000000001",
        "01111111111111110000000000000000",
        "00000000000000001111111111111111",
        "00101010101010101010101010101010",
        "01010101010101010101010101010101",
        "01111111111111111111111111111110",
        "00111111111111111111111111111100",
        "01000000000000000000000000000001",
        "01100000000000000000000000000011",
        "00110111101011000000100111010101",
        "01111001111111110101110111101010",
        "00110011011001001010101110101010",
        "00001001000001000101010000010000",
        "11111111111111111111111111100000",
    };
};

TEST(PrintBinaryTests, Test)
{
    char stringBuffer[33]{};
    stringBuffer[32] = '\0';
    for(int i = 0; i < 17; i++)
    {
        integerToBinaryString(testNumbers[i], stringBuffer);
        STRCMP_EQUAL(testStrings[i], stringBuffer);
    }
}
